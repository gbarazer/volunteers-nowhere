<template name="userDashboard">
{{#if Template.subscriptionsReady }}
  <div class="container-fluid dash-padding">
    <div class="row dash-col-padding">
      <div class="col-md-2 bg-tertiary">
        {{#if currentUser.profile.picture}}
          <h4>{{__ "welcome"}} {{ getUserName userId }}</h4>
          <img src="{{imageFileLink currentUser.profile.picture}}" class="rounded-circle header-avatar">
        {{else}}
          <h4>{{__ "welcome"}} Nobody</h4>
          <img src="img/mr_nobody.jpg" class="rounded-circle header-avatar">
          <a href="{{pathFor 'accountSettings'}}">{{__ "add_picture"}}</a>
        {{/if}}
        <h5 class="mb-2 text-muted">{{__ "responsabilities"}} </h5>
        <ul class="list-unstyled">
          {{#if isManager }}<li><span class="mb-2 text-muted">{{__ "role"}}: </span>Manager</li>{{/if}}
          {{#if isNoInfo }}<li><span class="mb-2 text-muted">{{__ "noInfo"}}: </span>Member</li>{{/if}}
          {{#each team in leads}}
            <li>
              <span class="mb-2 text-muted">{{__ "lead"}}:</span>
              <a href="{{pathFor 'leadTeamView' _id=team._id }}">{{team.name}}</a>
            </li>
          {{/each}}
          {{#each dept in metaleads}}
            <li>
              <span class="mb-2 text-muted">{{__ "metalead"}}: </span>
              <a href="{{pathFor 'metaleadDepartmentView' _id=dept._id }}">{{dept.name}}</a>
            </li>
          {{/each}}
        </ul>
        <br/>
        <button type="button" class="btn btn-default btn-sm" data-action="edit_form">
          {{__ "edit_user_info" }}
        </button>
      </div>

      <div class="col-md-5 bg-primary">
        <h2>{{__ "booked_missions" }}</h2>
        {{> bookedTable }}
      </div>

      <div class="col-md-5">
        <h2>{{__ "shift_need_help"}}</h2>
        <!-- this class (should) add a scrollbar -->
        <!-- <div class="signupsList"> -->
          {{> signupsList }}
        <!-- </div> -->
      </div>
    </div>
  </div>
{{/if}}
</template>

<template name="volunteerForm">
  <div class="container">
    <h2>{{__ "volunteer_form"}}</h2>
    {{> addVolunteerForm }}
  </div>
</template>

<template name="accountSettings">
  <div class="container">
    <h2>{{__ "user_details"}}</h2>
    {{> userProfile }}
  </div>
</template>

<!-- <template name="volunteerFormDisplay">
  <div class="container">
    <div class="card">
      <div class="card-header"><h3 class="card-title">{{__ "volunteer_profile"}}</h3></div>
      <img src="{{imageFileLink user.profile.picture}}" class="rounded-circle header-avatar">
      <div class="card-text">
        <ul class="list-unstyled">
          <li>
            <strong>{{__ "full_name"}}</strong>: {{ getUserName user._id }}
            {{#if user.verified}}<span class="text-success">{{fa "check"}}</span>{{/if}}
          </li>
          <li><strong>{{__ "last_login"}}</strong>: {{formatDateTime user.lastLogin}}</li>
        </ul>
      </div>
      <div class="card-body">
        {{> formBuilderDisplay }}
      </div>
    </div>
  </div>
</template> -->

<!-- shifts & task the user has signed up for -->
<template name="filterstest">
    <h3>{total nb of shifts+tasks} Missions</h3>
    <li class="dropdown">
      <a href="#" class="dropdown-toggle"
        data-toggle="dropdown" role="button"
        aria-haspopup="true" aria-expanded="false">
        <p class="button">Filter shifts<span class="caret"></span></p>
      </a>
      <ul class="dropdown-menu">
        <li class="{{isActiveRoute 'managerView'}}">
          <a href="{{pathFor 'managerView'}}">each Team names</a>
        </li>
        <li class="{{isActiveRoute 'allUsersList'}}">
          <a href="{{pathFor 'allUsersList'}}">each Day</a>
        </li>
        <li class="{{isActiveRoute 'allUsersList'}}">
          <a href="{{pathFor 'allUsersList'}}">Tasks</a>
        </li>
        <li class="{{isActiveRoute 'allUsersList'}}">
          <a href="{{pathFor 'allUsersList'}}">Shifts</a>
        </li>
      </ul>
    </li>

    Shifts + tasks
    separators
</template>

<!-- the shifts & tasks that could fit to the user -->
<template name="matchItems">
    identical to the list on top, exept with different content
</template>
