<template name="volunteerForm">
  <div class="panel panel-default">
    <div class="panel-header">
      <div class="pull-right">
        <a href="{{pathFor 'volunteerFormEdit' _id=formId}}">Edit</a>
      </div>
    </div>
    <div class="panel-body">
      {{#if _id}}
        {{> quickForm id="updateVolunteerForm"
          collection=VolunteerForm type="method-update"
          meteormethod="VolunteerForm.update" doc=this}}
      {{else}}
        {{> quickForm collection=VolunteerForm
          id="insertVolunteerForm" type="method"
          meteormethod="VolunteerForm.insert"}}
      {{/if}}
    </div>
  </div>
  {{> volunteerShiftForm}}
</template>

<template name="volunteerShiftForm">
  <div class="page-header clearfix">
    <h4>{{_ "filter"}}</h4>
    {{> multiDayFilter searchQuery=searchQuery}}
    <!-- {{> dayFilter searchQuery=searchQuery day="2016-10-10"}} -->
  </div>
  {{#if searching}}
    {{> loading}}
  {{else}}
    <ul class="list-group">
    {{#each shift in teamsAvailable}}
      <li class="list-group-item clearfix">
        <span class="pull-left">{{shift.name}} {{shift.title}} {{formatDate shift.start}} {{formatTime shift.start}}-{{formatTime shift.end}}</span>
        <span class="pull-right">
          <div class="checkbox ￼checkbox-success">
            <input type="checkbox" class="styled" id="{{shift.rnd}}"
              data-shiftid="{{shift.shiftId}}" data-teamid="{{shift.teamId}}"
              data-type="toggleShift" {{shift.isChecked}}>
            <label for="{{shift.rnd}}">
              {{_ "selected"}}
            </label>
          </div>
        </span>
      </li>
    {{else}}
      <p class="alert alert-warning">Nothing found</p>
    {{/each}}
    </ul>
  {{/if}}
</template>

<template name="dayFilter">
  <div class="list-inline">
    {{formatDate day}}
    {{#each period in periods}}
      <div class="checkbox ￼checkbox-success">
        <input type="checkbox" class="styled" id="{{period.start}}-{{period.end}}"
          name="periodFilter" value="{{day}}T{{period.start}}/{{day}}T{{period.end}}">
        <label for="{{period.start}}-{{period.end}}"> {{period.start}}-{{period.end}} </label>
      </div>
    {{/each}}
  </div>
</template>

<template name="multiDayFilter">
  <div class="list-inline">
    {{#each days}}
      <div class="radio">
        <input type="radio" class="styled" id="{{day}}" name="dayFilter" value="{{day}}" {{isChecked}}>
        <label for="{{day}}"> {{formatDate day}}</label>
      </div>
    {{/each}}
  </div>
  {{#each days}}
    <div id="{{day}}-filter" class="dayfilter">
      {{> dayFilter day=day searchQuery=searchQuery}}
    </div>
  {{/each}}
</template>

<!-- <template name="volunteerList">
  <div class="panel panel-default">
    <div class="panel-body">
      {{#if isVolunteer}}
          {{#if hasLead}}
            {{#markdown}}{{_ "volunteer_has_lead"}}{{/markdown}}
            {{> reactiveTable settings=VolunteerCrewUserTableSettings }}
          {{/if}}
          {{#if hasShift}}
            {{#markdown}}{{_ "volunteer_has_task"}}{{/markdown}}
            {{> reactiveTable settings=VolunteerShiftUserTableSettings }}
          {{else}}
            {{#markdown}}{{_ "volunteer_wait_for_task"}}{{/markdown}}
          {{/if}}
      {{else}}
          {{#markdown}}{{_ "create_volunteer_profile"}}{{/markdown}}
      {{/if}}
    </div>
  </div>
</template>

<template name="publicVolunteerCal">
  <ul class="nav nav-tabs" role="tablist">
    {{#each areas}}
      <li role="presentation">
        <a href="#" data-action="switchTab" data-id="{{this._id}}">{{_ this.name}}</a>
      </li>
    {{/each}}
  </ul>
  <div class="panel">
    {{#if currentAreaTab }}
      {{> fullcalendar options }}
    {{/if}}
  </div>
</template> -->
